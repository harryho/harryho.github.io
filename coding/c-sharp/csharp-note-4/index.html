<!DOCTYPE html>
<html>
  <head>
    <title>Hello World</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="revised" content="2020-02-16T13:41:22 AEDT">
<title> Generic Predicate &amp; Expression :: Hello World</title>
<link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/nucleus.css" rel="stylesheet">
<link href="/theme-flex/style.css" rel="stylesheet">

<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "\/";
</script>
<meta name="description" content="Use generic predicate and expression for data query">



    
  </head>
  <body data-url="/coding/c-sharp/csharp-note-4/">
    
      <header>
  <div class="logo">
    
	
  
    <a class="baselink" href="/">Hello World</a>
  


  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
  <nav class="shortcuts">
    <div>
      <div class="searchbox">
        <input data-search-input id="search-by" type="text" placeholder="Search...">
      </div>
      <script type="text/javascript" src="/js/lunr.min.js"></script>
      <script type="text/javascript" src="/js/auto-complete.js"></script>
      <link href="/css/auto-complete.css" rel="stylesheet">
      <script type="text/javascript">
        
            var baseurl = "\/";
        
      </script>
      <script type="text/javascript" src="/js/search.js"></script>
    </div>
  </nav>
</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/" class="dd-item">
          <a href="/">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="/projects/" class="dd-item haschildren
        ">
      <div>
      <a href="/projects/">Projects</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/projects/python-flat-api/" class="dd-item">
        <div>
          <a href="/projects/python-flat-api/">
            FlatApi - Restful API for python dev
          </a>
        </div>
    </li>
      <li data-nav-id="/projects/angular4-crm/" class="dd-item">
        <div>
          <a href="/projects/angular4-crm/">
            Angular 4 CRM Project
          </a>
        </div>
    </li>
      <li data-nav-id="/projects/laravel-mvc-starter/" class="dd-item">
        <div>
          <a href="/projects/laravel-mvc-starter/">
            Laravel MVC Starter
          </a>
        </div>
    </li>
      <li data-nav-id="/projects/react-crm/" class="dd-item">
        <div>
          <a href="/projects/react-crm/">
            React Redux CRM Project
          </a>
        </div>
    </li>
      <li data-nav-id="/projects/vue2-admin/" class="dd-item">
        <div>
          <a href="/projects/vue2-admin/">
            Vue 2 Admin Project
          </a>
        </div>
    </li>
      <li data-nav-id="/projects/vue2-crm/" class="dd-item">
        <div>
          <a href="/projects/vue2-crm/">
            Vue 2 CRM Project
          </a>
        </div>
    </li>
      <li data-nav-id="/projects/angularjs-webpack-es6-starter/" class="dd-item">
        <div>
          <a href="/projects/angularjs-webpack-es6-starter/">
            Angularjs Webpack ES6 Starter
          </a>
        </div>
    </li>
      <li data-nav-id="/projects/zf2-mvc-starter/" class="dd-item">
        <div>
          <a href="/projects/zf2-mvc-starter/">
            Zend Framework 2 MVC Starter
          </a>
        </div>
    </li>
      <li data-nav-id="/projects/kube-cluster/" class="dd-item">
        <div>
          <a href="/projects/kube-cluster/">
            Kubernetes Cluster in 5min
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/coding/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/coding/">Coding</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/coding/c/" class="dd-item haschildren
        ">
      <div>
      <a href="/coding/c/">C </a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/coding/c/lcthw-lectures.1/" class="dd-item">
        <div>
          <a href="/coding/c/lcthw-lectures.1/">
            C Lecture - 1
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/c/lcthw-lectures.2/" class="dd-item">
        <div>
          <a href="/coding/c/lcthw-lectures.2/">
            C Lecture - 2
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/c/lcthw-lectures.3/" class="dd-item">
        <div>
          <a href="/coding/c/lcthw-lectures.3/">
            C Lecture - 3
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/c/lcthw-lectures.4/" class="dd-item">
        <div>
          <a href="/coding/c/lcthw-lectures.4/">
            C Lecture - 4
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/coding/c-sharp/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/coding/c-sharp/">C#</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/coding/c-sharp/csharp-note-1/" class="dd-item">
        <div>
          <a href="/coding/c-sharp/csharp-note-1/">
            C# Console App
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/c-sharp/csharp-note-4/" class="dd-item active">
        <div>
          <a href="/coding/c-sharp/csharp-note-4/">
             Generic Predicate &amp; Expression
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/c-sharp/csharp-note-2/" class="dd-item">
        <div>
          <a href="/coding/c-sharp/csharp-note-2/">
            Scheduled task with window service
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/c-sharp/csharp-note-3/" class="dd-item">
        <div>
          <a href="/coding/c-sharp/csharp-note-3/">
            Thread &amp; Task
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/coding/db-sql/" class="dd-item haschildren
        ">
      <div>
      <a href="/coding/db-sql/">DB &amp; SQL</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/coding/db-sql/mysql-note-1/" class="dd-item">
        <div>
          <a href="/coding/db-sql/mysql-note-1/">
            MySql Note - 1
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/db-sql/mysql-note-2/" class="dd-item">
        <div>
          <a href="/coding/db-sql/mysql-note-2/">
            MySql Note - 2
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/db-sql/mysql-note-3/" class="dd-item">
        <div>
          <a href="/coding/db-sql/mysql-note-3/">
            MySql Note - 3
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/db-sql/mysql-note-4/" class="dd-item">
        <div>
          <a href="/coding/db-sql/mysql-note-4/">
            MySql Note - 4
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/db-sql/mysql-note-5/" class="dd-item">
        <div>
          <a href="/coding/db-sql/mysql-note-5/">
            MySql Note - 5
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/db-sql/pgsql-note-1/" class="dd-item">
        <div>
          <a href="/coding/db-sql/pgsql-note-1/">
            PostgresQL Note - 1
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/db-sql/mssql-note-1/" class="dd-item">
        <div>
          <a href="/coding/db-sql/mssql-note-1/">
            Sql Server Note - 1
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/coding/golang/" class="dd-item haschildren
        ">
      <div>
      <a href="/coding/golang/">Golang</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/coding/golang/go-note-1/" class="dd-item">
        <div>
          <a href="/coding/golang/go-note-1/">
            Getting started
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/golang/go-note-2/" class="dd-item">
        <div>
          <a href="/coding/golang/go-note-2/">
            Map, Function &amp; Closure
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/golang/go-note-3/" class="dd-item">
        <div>
          <a href="/coding/golang/go-note-3/">
            Struct &amp; Interface
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/golang/go-note-4/" class="dd-item">
        <div>
          <a href="/coding/golang/go-note-4/">
            IO, Json &amp; XML
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/golang/go-note-5/" class="dd-item">
        <div>
          <a href="/coding/golang/go-note-5/">
            Error handling
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/golang/go-note-6/" class="dd-item">
        <div>
          <a href="/coding/golang/go-note-6/">
            Goroutine &amp; Channel - 1
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/golang/go-note-7/" class="dd-item">
        <div>
          <a href="/coding/golang/go-note-7/">
            Goroutine &amp; Channel - 2
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/golang/go-note-8/" class="dd-item">
        <div>
          <a href="/coding/golang/go-note-8/">
            Packaging
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/golang/go-note-9/" class="dd-item">
        <div>
          <a href="/coding/golang/go-note-9/">
            Pitfalls
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/golang/go-note-10/" class="dd-item">
        <div>
          <a href="/coding/golang/go-note-10/">
            Template
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/golang/go-note-20/" class="dd-item">
        <div>
          <a href="/coding/golang/go-note-20/">
            Good practice - 1
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/golang/go-note-21/" class="dd-item">
        <div>
          <a href="/coding/golang/go-note-21/">
            Good practice 2
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/golang/go-note-22/" class="dd-item">
        <div>
          <a href="/coding/golang/go-note-22/">
            Good practice 3
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/golang/go-note-99/" class="dd-item">
        <div>
          <a href="/coding/golang/go-note-99/">
            Golang snippets
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/coding/java/" class="dd-item haschildren
        ">
      <div>
      <a href="/coding/java/">Java</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/coding/java/java-note-1/" class="dd-item">
        <div>
          <a href="/coding/java/java-note-1/">
            Java Note - 1: Enum
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/java/java-note-2/" class="dd-item">
        <div>
          <a href="/coding/java/java-note-2/">
            Java Note - 2: Concurrency
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/java/java-note-3/" class="dd-item">
        <div>
          <a href="/coding/java/java-note-3/">
            Java Note - 3: Path and Files
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/java/java-note-4/" class="dd-item">
        <div>
          <a href="/coding/java/java-note-4/">
            Java Note - 4: Date Time 
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/java/java-note-5/" class="dd-item">
        <div>
          <a href="/coding/java/java-note-5/">
            Java Note - 5: Lambda 
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/coding/js-ts/" class="dd-item haschildren
        ">
      <div>
      <a href="/coding/js-ts/">JS &amp; TS </a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/coding/js-ts/js-note-1/" class="dd-item">
        <div>
          <a href="/coding/js-ts/js-note-1/">
            JS &amp; ES Note - 1
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/js-ts/js-note-2/" class="dd-item">
        <div>
          <a href="/coding/js-ts/js-note-2/">
            JS &amp; ES Note - 2
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/js-ts/js-note-3/" class="dd-item">
        <div>
          <a href="/coding/js-ts/js-note-3/">
            JS &amp; ES Note - 3
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/js-ts/js-note-99/" class="dd-item">
        <div>
          <a href="/coding/js-ts/js-note-99/">
            JS &amp; ES snippet
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/js-ts/ts-note-1/" class="dd-item">
        <div>
          <a href="/coding/js-ts/ts-note-1/">
            TypeScript Note - 1
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/coding/python/" class="dd-item haschildren
        ">
      <div>
      <a href="/coding/python/">Python</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/coding/python/python-note-1/" class="dd-item">
        <div>
          <a href="/coding/python/python-note-1/">
            Package &amp; Module
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/python/python-note-2/" class="dd-item">
        <div>
          <a href="/coding/python/python-note-2/">
            Closure &amp; Decorator
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/python/python-note-3/" class="dd-item">
        <div>
          <a href="/coding/python/python-note-3/">
            String &amp; Representation
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/python/python-note-4/" class="dd-item">
        <div>
          <a href="/coding/python/python-note-4/">
            Iteration
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/python/python-note-5/" class="dd-item">
        <div>
          <a href="/coding/python/python-note-5/">
            Inheritance &amp; Polymorphism
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/python/python-note-6/" class="dd-item">
        <div>
          <a href="/coding/python/python-note-6/">
            Collection
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/python/python-note-7/" class="dd-item">
        <div>
          <a href="/coding/python/python-note-7/">
            Exception &amp; Assertion
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/python/python-note-8/" class="dd-item">
        <div>
          <a href="/coding/python/python-note-8/">
            Context
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/python/python-note-9/" class="dd-item">
        <div>
          <a href="/coding/python/python-note-9/">
            ABC
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/coding/rustlang/" class="dd-item haschildren
        ">
      <div>
      <a href="/coding/rustlang/">Rustlang</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/coding/rustlang/rust-note-1/" class="dd-item">
        <div>
          <a href="/coding/rustlang/rust-note-1/">
            Data Types &amp; Ownership
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/rustlang/rust-note-2/" class="dd-item">
        <div>
          <a href="/coding/rustlang/rust-note-2/">
            Project, Vector, String &amp; Hashmap
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/rustlang/rust-note-3/" class="dd-item">
        <div>
          <a href="/coding/rustlang/rust-note-3/">
            Error handling
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/rustlang/rust-note-4/" class="dd-item">
        <div>
          <a href="/coding/rustlang/rust-note-4/">
            Generic Type &amp; Trait 
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/coding/shell/" class="dd-item haschildren
        ">
      <div>
      <a href="/coding/shell/">Shell</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/coding/shell/bash-note-1/" class="dd-item">
        <div>
          <a href="/coding/shell/bash-note-1/">
            Adv Bash - 1
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/shell/bash-note-2/" class="dd-item">
        <div>
          <a href="/coding/shell/bash-note-2/">
            Adv Bash - 2
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/shell/bash-note-3/" class="dd-item">
        <div>
          <a href="/coding/shell/bash-note-3/">
            Adv Bash - 3
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/shell/cron-note-1/" class="dd-item">
        <div>
          <a href="/coding/shell/cron-note-1/">
            Cron Job Note - 1
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/shell/cron-note-2/" class="dd-item">
        <div>
          <a href="/coding/shell/cron-note-2/">
            Cron Job Note - 2
          </a>
        </div>
    </li>
      <li data-nav-id="/coding/shell/ps-note-1/" class="dd-item">
        <div>
          <a href="/coding/shell/ps-note-1/">
            Powershell Note - 1
          </a>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="/cloud/" class="dd-item haschildren
        ">
      <div>
      <a href="/cloud/">Cloud</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/cloud/aws-note-1/" class="dd-item">
        <div>
          <a href="/cloud/aws-note-1/">
            AWS Note - 1
          </a>
        </div>
    </li>
      <li data-nav-id="/cloud/aws-note-2/" class="dd-item">
        <div>
          <a href="/cloud/aws-note-2/">
            AWS Note - 2
          </a>
        </div>
    </li>
      <li data-nav-id="/cloud/digito-note-1/" class="dd-item">
        <div>
          <a href="/cloud/digito-note-1/">
            DigitialOcean Note - 1
          </a>
        </div>
    </li>
      <li data-nav-id="/cloud/digito-note-2/" class="dd-item">
        <div>
          <a href="/cloud/digito-note-2/">
            DigitialOcean Note - 2
          </a>
        </div>
    </li>
      <li data-nav-id="/cloud/digito-note-3/" class="dd-item">
        <div>
          <a href="/cloud/digito-note-3/">
            DigitialOcean Note - 3
          </a>
        </div>
    </li>
      <li data-nav-id="/cloud/digito-note-4/" class="dd-item">
        <div>
          <a href="/cloud/digito-note-4/">
            DigitialOcean Note - 4
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/hacks/" class="dd-item haschildren
        ">
      <div>
      <a href="/hacks/">Hacks</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/hacks/git-notes/" class="dd-item">
        <div>
          <a href="/hacks/git-notes/">
            Git Practices
          </a>
        </div>
    </li>
      <li data-nav-id="/hacks/windows-command-3/" class="dd-item">
        <div>
          <a href="/hacks/windows-command-3/">
            Windows cmd &amp; hotkey - 3
          </a>
        </div>
    </li>
      <li data-nav-id="/hacks/windows-command-2/" class="dd-item">
        <div>
          <a href="/hacks/windows-command-2/">
            Windows cmd &amp; hotkey - 2
          </a>
        </div>
    </li>
      <li data-nav-id="/hacks/windows-command-1/" class="dd-item">
        <div>
          <a href="/hacks/windows-command-1/">
            Windows cmd &amp; hotkey - 1
          </a>
        </div>
    </li>
      <li data-nav-id="/hacks/cass-note/" class="dd-item">
        <div>
          <a href="/hacks/cass-note/">
            Cassandra Practices
          </a>
        </div>
    </li>
      <li data-nav-id="/hacks/php-debug/" class="dd-item">
        <div>
          <a href="/hacks/php-debug/">
            Debug PHP with Free IDE
          </a>
        </div>
    </li>
      <li data-nav-id="/hacks/qemu-notes/" class="dd-item">
        <div>
          <a href="/hacks/qemu-notes/">
            Qemu &amp; Virtual Machine
          </a>
        </div>
    </li>
      <li data-nav-id="/hacks/vbox-notes/" class="dd-item">
        <div>
          <a href="/hacks/vbox-notes/">
            VirtualBox Notes
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/os/" class="dd-item haschildren
        ">
      <div>
      <a href="/os/">OS</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/os/dual-boot-win10-ubuntu18/" class="dd-item">
        <div>
          <a href="/os/dual-boot-win10-ubuntu18/">
            Dual Boot Windows 10 &amp; Ubuntu 18
          </a>
        </div>
    </li>
      <li data-nav-id="/os/ubuntu-desktop-18/" class="dd-item">
        <div>
          <a href="/os/ubuntu-desktop-18/">
            Ubuntu Desktop 18 LTS note
          </a>
        </div>
    </li>
      <li data-nav-id="/os/raspberrypi-notes/" class="dd-item">
        <div>
          <a href="/os/raspberrypi-notes/">
            Raspberry Pi setup
          </a>
        </div>
    </li>
      <li data-nav-id="/os/lubuntu16-desktop/" class="dd-item">
        <div>
          <a href="/os/lubuntu16-desktop/">
            Lubuntu 16 desktop
          </a>
        </div>
    </li>
      <li data-nav-id="/os/grub-trouble-shooting/" class="dd-item">
        <div>
          <a href="/os/grub-trouble-shooting/">
            Grub Trouble Shooting
          </a>
        </div>
    </li>
      <li data-nav-id="/os/ubuntu-server-16/" class="dd-item">
        <div>
          <a href="/os/ubuntu-server-16/">
            Ubuntu 16 server note
          </a>
        </div>
    </li>
      <li data-nav-id="/os/centos-server-7/" class="dd-item">
        <div>
          <a href="/os/centos-server-7/">
            CentOS 7 Server note
          </a>
        </div>
    </li>
      <li data-nav-id="/os/ubuntu-server-14/" class="dd-item">
        <div>
          <a href="/os/ubuntu-server-14/">
            Ubuntu 14 -- server setup
          </a>
        </div>
    </li>
      <li data-nav-id="/os/ubuntu-desktop-14/" class="dd-item">
        <div>
          <a href="/os/ubuntu-desktop-14/">
            Ubuntu 14 -- desktop setup &amp; dual boot 
          </a>
        </div>
    </li>
      <li data-nav-id="/os/ubuntu-desktop-14-extra-tools/" class="dd-item">
        <div>
          <a href="/os/ubuntu-desktop-14-extra-tools/">
            Ubuntu 14 -- desktop, extra tools
          </a>
        </div>
    </li>
      <li data-nav-id="/os/centos-fedora-desktop/" class="dd-item">
        <div>
          <a href="/os/centos-fedora-desktop/">
            CentOS 6/7 Multi-Boot Setup
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/blogs/" class="dd-item haschildren
        ">
      <div>
      <a href="/blogs/">Blogs</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/blogs/k8s-on-vm/" class="dd-item">
        <div>
          <a href="/blogs/k8s-on-vm/">
            Try Minikube
          </a>
        </div>
    </li>
      <li data-nav-id="/blogs/vue-ng-react/" class="dd-item">
        <div>
          <a href="/blogs/vue-ng-react/">
            Angular vs React vs Vue
          </a>
        </div>
    </li>
      <li data-nav-id="/blogs/create-a-blog-on-github/" class="dd-item">
        <div>
          <a href="/blogs/create-a-blog-on-github/">
            Create a blog site on GitHub Pages
          </a>
        </div>
    </li>
      <li data-nav-id="/blogs/build-mobile-app/" class="dd-item">
        <div>
          <a href="/blogs/build-mobile-app/">
            Build mobile app with web tech
          </a>
        </div>
    </li>
      <li data-nav-id="/blogs/azure-notes/" class="dd-item">
        <div>
          <a href="/blogs/azure-notes/">
            Azure Practices
          </a>
        </div>
    </li>
      <li data-nav-id="/blogs/javascript-oop/" class="dd-item">
        <div>
          <a href="/blogs/javascript-oop/">
            JavaScript and OOP
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/frameworks/" class="dd-item haschildren
        ">
      <div>
      <a href="/frameworks/">Frameworks</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/frameworks/cntk-notes-1/" class="dd-item">
        <div>
          <a href="/frameworks/cntk-notes-1/">
            CNTK Note - 1
          </a>
        </div>
    </li>
      <li data-nav-id="/frameworks/tensorflow-notes-1/" class="dd-item">
        <div>
          <a href="/frameworks/tensorflow-notes-1/">
            Tensorflow Note - 1
          </a>
        </div>
    </li>
      <li data-nav-id="/frameworks/tensorflow-notes-2/" class="dd-item">
        <div>
          <a href="/frameworks/tensorflow-notes-2/">
            Tensorflow Note - 2
          </a>
        </div>
    </li>
      <li data-nav-id="/frameworks/php-web/" class="dd-item">
        <div>
          <a href="/frameworks/php-web/">
            PHP Web Framework
          </a>
        </div>
    </li>
      <li data-nav-id="/frameworks/python-django/" class="dd-item">
        <div>
          <a href="/frameworks/python-django/">
            Python Web Framework
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/tut/" class="dd-item haschildren
        ">
      <div>
      <a href="/tut/">Tutorial</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/tut/docker/" class="dd-item">
        <div>
          <a href="/tut/docker/">
            Docker Tutorial
          </a>
        </div>
    </li>
      <li data-nav-id="/tut/javascript/" class="dd-item">
        <div>
          <a href="/tut/javascript/">
            JavaScript Tutorial
          </a>
        </div>
    </li>
      <li data-nav-id="/tut/kube/" class="dd-item">
        <div>
          <a href="/tut/kube/">
            Kubernetes Tutorial
          </a>
        </div>
    </li>
        </ul>
    </li>




    </ul>
    <section>
    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/projects/" >
   Projects</option>
    <option value="/coding/" >
   Coding</option> 
    <option value="/coding/c/" >
  - 
   C </option>
    <option value="/coding/c-sharp/" >
  - 
   C#</option> 
      <option value="/coding/c-sharp/csharp-note-1/" >-- C# Console App</option>
      <option value="/coding/c-sharp/csharp-note-4/"  selected>--  Generic Predicate &amp; Expression</option>
      <option value="/coding/c-sharp/csharp-note-2/" >-- Scheduled task with window service</option>
      <option value="/coding/c-sharp/csharp-note-3/" >-- Thread &amp; Task</option>
  
    <option value="/coding/db-sql/" >
  - 
   DB &amp; SQL</option>
    <option value="/coding/golang/" >
  - 
   Golang</option>
    <option value="/coding/java/" >
  - 
   Java</option>
    <option value="/coding/js-ts/" >
  - 
   JS &amp; TS </option>
    <option value="/coding/python/" >
  - 
   Python</option>
    <option value="/coding/rustlang/" >
  - 
   Rustlang</option>
    <option value="/coding/shell/" >
  - 
   Shell</option>
  
    <option value="/cloud/" >
   Cloud</option>
    <option value="/hacks/" >
   Hacks</option>
    <option value="/os/" >
   OS</option>
    <option value="/blogs/" >
   Blogs</option>
    <option value="/frameworks/" >
   Frameworks</option>
    <option value="/tut/" >
   Tutorial</option>



        </select>
      </center>
    </div>


    


    
    
    
<div class="main-page">
    <div class="flex-item main-content">
            <h1> Generic Predicate &amp; Expression</h1>
        <h3 id="generic-predicate-and-expression-for-query">Generic Predicate and Expression for query</h3>
<h4 id="prerequisites">Prerequisites</h4>
<blockquote>
<p><em>You have experience of developing .net application, which includes entity framework.</em></p>
</blockquote>
<blockquote>
<p><em>You have experience of using SQL to query database</em></p>
</blockquote>
<h4 id="problem">Problem</h4>
<p>Now entity framework is core component in all .net applications, which need to communicate with database.</p>
<p>Business service get a lot of benefits form entity framework's ORM feature, and we can create a repository layer on the top of ORM to reduce some simple but tedious database operation, such as, delete, insert, query all data. However, when we need to do some complicated query to support business service, we still need to take so much effort to achieve the query result, because entity framework use LINQ as query language, comparing with SQL, native database language, it is a bit more complicated and cumbersome. Luckily, entity framework provide another generic feature to help us DRY. Predicate and expression can help us create generic query and reduce many reduntant code.</p>
<h4 id="solution">Solution</h4>
<h3 id="analysis">Analysis</h3>
<p>Basically, the idea is close to dynamic statement in ADO.Net. Here generic programming is the key, when we utilize predicate and expression to dynamically rebuild the query filter.</p>
<p>If we look into the queries, we will find 80% of queries can be abstracted as following syntax. Now it is easy to see how generic predicate and expression can support this syntax.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> TABLE_A 
    <span style="color:#66d9ef">WHERE</span> 
        <span style="color:#f92672">&lt;</span>FIELD_1<span style="color:#f92672">&gt;</span> [<span style="color:#f92672">=</span><span style="color:#f92672">|</span><span style="color:#f92672">&lt;</span><span style="color:#f92672">|</span><span style="color:#f92672">&gt;</span><span style="color:#f92672">|</span><span style="color:#f92672">&gt;</span><span style="color:#f92672">=</span><span style="color:#f92672">|</span><span style="color:#f92672">&lt;</span><span style="color:#f92672">=</span><span style="color:#f92672">|</span><span style="color:#66d9ef">LIKE</span>] <span style="color:#f92672">&lt;</span>VALUE_1<span style="color:#f92672">&gt;</span>   <span style="color:#75715e">----- Expression 
</span><span style="color:#75715e"></span>        [ <span style="color:#66d9ef">AND</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">OR</span> ]                            <span style="color:#75715e">------------ Predicate 
</span><span style="color:#75715e"></span>        <span style="color:#f92672">&lt;</span>FIELD_2<span style="color:#f92672">&gt;</span> [<span style="color:#f92672">=</span><span style="color:#f92672">|</span><span style="color:#f92672">&lt;</span><span style="color:#f92672">|</span><span style="color:#f92672">&gt;</span><span style="color:#f92672">|</span><span style="color:#f92672">&gt;</span><span style="color:#f92672">=</span><span style="color:#f92672">|</span><span style="color:#f92672">&lt;</span><span style="color:#f92672">=</span><span style="color:#f92672">|</span><span style="color:#66d9ef">LIKE</span>] <span style="color:#f92672">&lt;</span>VALUE_2<span style="color:#f92672">&gt;</span>   <span style="color:#75715e">----- Expression
</span></code></pre></div><p>The next step we can look into the Expression, actually the FIELD_1 is the property of entity object, and VALUE_1 is the filter value entered by client. How to use the filter to narrow down the query result is part of business logic, which is handled by developer.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ini" data-lang="ini"><span style="color:#a6e22e">&lt;FIELD_1&gt;</span>           <span style="color:#f92672">=</span><span style="color:#e6db74">=&gt; Entity property</span>
<span style="color:#a6e22e">[</span><span style="color:#f92672">=</span><span style="color:#e6db74">|&lt;|&gt;|&gt;=|&lt;=|LIKE]  ==&gt; Operator</span>
<span style="color:#a6e22e">&lt;VALUE_1&gt;</span>           <span style="color:#f92672">=</span><span style="color:#e6db74">=&gt; Filter value</span>
</code></pre></div><h3 id="design">Design</h3>
<p>Accordingt to abve analysis, we can design the classes to support this feature.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ini" data-lang="ini">
<span style="color:#a6e22e">+--------------+</span>
<span style="color:#a6e22e">|  Filter      |</span>
<span style="color:#a6e22e">+--------------+</span>
<span style="color:#a6e22e">|  Property    | --- Map to the column (table) or property (entity)</span>
<span style="color:#a6e22e">|  Op          | --- Operator , e.g. Equals, Contains, GreaterThan, tec.</span>
<span style="color:#a6e22e">|  Val         | --- Value entered by client</span>
<span style="color:#a6e22e">+--------------+</span>

<span style="color:#a6e22e">+----------------------+</span>
<span style="color:#a6e22e">| ExpressionBuilder    |  </span>
<span style="color:#a6e22e">+----------------------+</span>
<span style="color:#a6e22e">|GetExpression( filer) | --------- Create expression by input filter </span>
<span style="color:#a6e22e">+ ---------------------+</span>

<span style="color:#a6e22e">+------------------+</span>
<span style="color:#a6e22e">| PredicateBuilder |</span>
<span style="color:#a6e22e">+------------------+      </span>
<span style="color:#a6e22e">| And(exp1, exp2)  | --- Use AND to combine two expressions</span>
<span style="color:#a6e22e">| Or(exp1, exp2)   | --- Use OR to combine two expressions                        </span>
<span style="color:#a6e22e">+------------------+</span>

</code></pre></div><h3 id="implementatoin">Implementatoin</h3>
<p>Following is the implementation of generic expression and predicate. Please keep it in mind. We are using LINQ to simulate the dynamic statement, so there is some tricks to work around as SQL queries.</p>
<p><strong>Filter</strong></p>
<p>The Op property should be</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cs" data-lang="cs"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Filter</span>
{
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> Property { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> Op { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">object</span> Val { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
}
</code></pre></div><p><strong>Op</strong></p>
<p>This class can be replaced by Enum if you want.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cs" data-lang="cs">
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Op</span>
{
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">string</span> Equals = <span style="color:#e6db74">&#34;Equals&#34;</span>;
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">string</span> GreaterThan = <span style="color:#e6db74">&#34;GreaterThan&#34;</span>;
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">string</span> LessThan = <span style="color:#e6db74">&#34;LessThan&#34;</span>;
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">string</span> GreaterThanOrEqual = <span style="color:#e6db74">&#34;GreaterThanOrEqual&#34;</span>;
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">string</span> LessThanOrEqual = <span style="color:#e6db74">&#34;LessThanOrEqual&#34;</span>;

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">string</span> Contains = <span style="color:#e6db74">&#34;Contains&#34;</span>;
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">string</span> StartsWith = <span style="color:#e6db74">&#34;StartsWith&#34;</span>;
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">string</span> EndsWith = <span style="color:#e6db74">&#34;EndsWith&#34;</span>;
}
</code></pre></div><p><strong>ExpressionBuilder</strong></p>
<p>This class takes care of Expression with Filter object.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cs" data-lang="cs"><span style="color:#66d9ef">using</span> System;
<span style="color:#66d9ef">using</span> System.Linq;
<span style="color:#66d9ef">using</span> System.Linq.Expressions;
<span style="color:#66d9ef">using</span> System.Collections.Generic;

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ExpressionBuilder</span>
{
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> MethodInfo containsMethod = <span style="color:#66d9ef">typeof</span>(<span style="color:#66d9ef">string</span>).GetMethod(<span style="color:#e6db74">&#34;Contains&#34;</span>);
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> MethodInfo startsWithMethod =
    <span style="color:#66d9ef">typeof</span>(<span style="color:#66d9ef">string</span>).GetMethod(<span style="color:#e6db74">&#34;StartsWith&#34;</span>, <span style="color:#66d9ef">new</span> Type[] { <span style="color:#66d9ef">typeof</span>(<span style="color:#66d9ef">string</span>) });
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> MethodInfo endsWithMethod =
    <span style="color:#66d9ef">typeof</span>(<span style="color:#66d9ef">string</span>).GetMethod(<span style="color:#e6db74">&#34;EndsWith&#34;</span>, <span style="color:#66d9ef">new</span> Type[] { <span style="color:#66d9ef">typeof</span>(<span style="color:#66d9ef">string</span>) });


    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> Expression&lt;Func&lt;T, <span style="color:#66d9ef">bool</span>&gt;&gt; GetExpression&lt;T&gt;(IList&lt;Filter&gt; filters)
    {
        <span style="color:#66d9ef">if</span> (filters.Count == <span style="color:#ae81ff">0</span>)
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>;

        ParameterExpression param = Expression.Parameter(<span style="color:#66d9ef">typeof</span>(T), <span style="color:#e6db74">&#34;t&#34;</span>);
        Expression exp = <span style="color:#66d9ef">null</span>;

        <span style="color:#66d9ef">if</span> (filters.Count == <span style="color:#ae81ff">1</span>)
            exp = GetExpression&lt;T&gt;(param, filters[<span style="color:#ae81ff">0</span>]);
        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (filters.Count == <span style="color:#ae81ff">2</span>)
            exp = GetExpression&lt;T&gt;(param, filters[<span style="color:#ae81ff">0</span>], filters[<span style="color:#ae81ff">1</span>]);
        <span style="color:#66d9ef">else</span>
        {
            <span style="color:#66d9ef">while</span> (filters.Count &gt; <span style="color:#ae81ff">0</span>)
            {
                <span style="color:#66d9ef">var</span> f1 = filters[<span style="color:#ae81ff">0</span>];
                <span style="color:#66d9ef">var</span> f2 = filters[<span style="color:#ae81ff">1</span>];

                <span style="color:#66d9ef">if</span> (exp == <span style="color:#66d9ef">null</span>)
                    exp = GetExpression&lt;T&gt;(param, filters[<span style="color:#ae81ff">0</span>], filters[<span style="color:#ae81ff">1</span>]);
                <span style="color:#66d9ef">else</span>
                    exp = Expression.AndAlso(
                        exp, 
                        GetExpression&lt;T&gt;(param, filters[<span style="color:#ae81ff">0</span>], filters[<span style="color:#ae81ff">1</span>]));

                filters.Remove(f1);
                filters.Remove(f2);

                <span style="color:#66d9ef">if</span> (filters.Count == <span style="color:#ae81ff">1</span>)
                {
                    exp = Expression.AndAlso(
                        exp, 
                        GetExpression&lt;T&gt;(param, filters[<span style="color:#ae81ff">0</span>]));
                    filters.RemoveAt(<span style="color:#ae81ff">0</span>);
                }
            }
        }

        <span style="color:#66d9ef">return</span> Expression.Lambda&lt;Func&lt;T, <span style="color:#66d9ef">bool</span>&gt;&gt;(exp, param);
    }

    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> ConstantExpression ConvetValueType(
        MemberExpression member, 
        <span style="color:#66d9ef">object</span> <span style="color:#66d9ef">value</span>)
    {
        <span style="color:#66d9ef">if</span> (member.Type == <span style="color:#66d9ef">typeof</span>(<span style="color:#66d9ef">int</span>))
        {
            <span style="color:#66d9ef">value</span> = <span style="color:#66d9ef">int</span>.Parse(<span style="color:#66d9ef">value</span>.ToString());
        }
        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (member.Type == <span style="color:#66d9ef">typeof</span>(<span style="color:#66d9ef">decimal</span>))
        {
            <span style="color:#66d9ef">value</span> = <span style="color:#66d9ef">decimal</span>.Parse(<span style="color:#66d9ef">value</span>.ToString());
        }
        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (member.Type == <span style="color:#66d9ef">typeof</span>(<span style="color:#66d9ef">float</span>))
        {
            <span style="color:#66d9ef">value</span> = <span style="color:#66d9ef">float</span>.Parse(<span style="color:#66d9ef">value</span>.ToString());
        }
        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (member.Type == <span style="color:#66d9ef">typeof</span>(<span style="color:#66d9ef">double</span>))
        {
            <span style="color:#66d9ef">value</span> = <span style="color:#66d9ef">double</span>.Parse(<span style="color:#66d9ef">value</span>.ToString());
        }

        <span style="color:#66d9ef">return</span> Expression.Constant(<span style="color:#66d9ef">value</span>);
    }

    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> Expression GetExpression&lt;T&gt;(
        ParameterExpression param, 
        Filter filter)
    {

        MemberExpression member = Expression.Property(
            param, filter.Property);

        <span style="color:#66d9ef">switch</span> (filter.Op)
        {
            <span style="color:#66d9ef">case</span> Op.Equals:
                <span style="color:#66d9ef">return</span> Expression.Equal(
                    member, 
                    Expression.Constant(filter.Val, member.Type));

            <span style="color:#66d9ef">case</span> Op.GreaterThan:
                <span style="color:#66d9ef">return</span> Expression.GreaterThan(
                    member, 
                    ConvetValueType(member, filter.Val));

            <span style="color:#66d9ef">case</span> Op.GreaterThanOrEqual:
                <span style="color:#66d9ef">return</span> Expression.GreaterThanOrEqual(
                    member, 
                    ConvetValueType(member, filter.Val));

            <span style="color:#66d9ef">case</span> Op.LessThan:
                <span style="color:#66d9ef">return</span> Expression.LessThan(
                    member, 
                    ConvetValueType(member, filter.Val));

            <span style="color:#66d9ef">case</span> Op.LessThanOrEqual:
                <span style="color:#66d9ef">return</span> Expression.LessThanOrEqual(
                    member, 
                    ConvetValueType(member, filter.Val));

            <span style="color:#66d9ef">case</span> Op.Contains:
                <span style="color:#66d9ef">return</span> Expression.Call(
                    member, 
                    containsMethod, 
                    Expression.Constant(filter.Val, member.Type));

            <span style="color:#66d9ef">case</span> Op.StartsWith:
                <span style="color:#66d9ef">return</span> Expression.Call(
                    member, 
                    startsWithMethod, Expression.Constant(
                        filter.Val, 
                        member.Type));

            <span style="color:#66d9ef">case</span> Op.EndsWith:
                <span style="color:#66d9ef">return</span> Expression.Call(
                    member, 
                    endsWithMethod, 
                    Expression.Constant(filter.Val, member.Type));
        }

        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>;
    }

    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> BinaryExpression GetExpression&lt;T&gt;(\
        ParameterExpression param, Filter filter1, Filter filter2)
    {
        Expression bin1 = GetExpression&lt;T&gt;(param, filter1);
        Expression bin2 = GetExpression&lt;T&gt;(param, filter2);

        <span style="color:#66d9ef">return</span> Expression.AndAlso(bin1, bin2);
    }
}

</code></pre></div><p><strong>PredicateBuilder</strong></p>
<p>This class manages all expressions to support dynamic statement query.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cs" data-lang="cs"><span style="color:#66d9ef">using</span> System;
<span style="color:#66d9ef">using</span> System.Linq;
<span style="color:#66d9ef">using</span> System.Linq.Expressions;
<span style="color:#66d9ef">using</span> System.Collections.Generic;

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">PredicateBuilder</span>
{
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> Expression&lt;Func&lt;T, <span style="color:#66d9ef">bool</span>&gt;&gt; True&lt;T&gt;() { <span style="color:#66d9ef">return</span> f =&gt; <span style="color:#66d9ef">true</span>; }
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> Expression&lt;Func&lt;T, <span style="color:#66d9ef">bool</span>&gt;&gt; False&lt;T&gt;() { <span style="color:#66d9ef">return</span> f =&gt; <span style="color:#66d9ef">false</span>; }

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> Expression&lt;Func&lt;T, <span style="color:#66d9ef">bool</span>&gt;&gt; Or&lt;T&gt;(
        <span style="color:#66d9ef">this</span> Expression&lt;Func&lt;T, <span style="color:#66d9ef">bool</span>&gt;&gt; expr1, Expression&lt;Func&lt;T, <span style="color:#66d9ef">bool</span>&gt;&gt; expr2)
    {
        <span style="color:#66d9ef">var</span> secondBody = expr2.Body.Replace(
            expr2.Parameters[<span style="color:#ae81ff">0</span>], expr1.Parameters[<span style="color:#ae81ff">0</span>]);
        <span style="color:#66d9ef">return</span> Expression.Lambda&lt;Func&lt;T, <span style="color:#66d9ef">bool</span>&gt;&gt;(
            Expression.OrElse(expr1.Body, secondBody), 
            expr1.Parameters);
    }

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> Expression&lt;Func&lt;T, <span style="color:#66d9ef">bool</span>&gt;&gt; And&lt;T&gt;(
        <span style="color:#66d9ef">this</span> Expression&lt;Func&lt;T, <span style="color:#66d9ef">bool</span>&gt;&gt; expr1, 
        Expression&lt;Func&lt;T, <span style="color:#66d9ef">bool</span>&gt;&gt; expr2)
    {
        <span style="color:#66d9ef">var</span> secondBody = expr2.Body.Replace(
            expr2.Parameters[<span style="color:#ae81ff">0</span>], expr1.Parameters[<span style="color:#ae81ff">0</span>]);
        <span style="color:#66d9ef">return</span> Expression.Lambda&lt;Func&lt;T, <span style="color:#66d9ef">bool</span>&gt;&gt; (
                    Expression.AndAlso(expr1.Body, secondBody), 
                    expr1.Parameters);
    }

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> Expression Replace(
        <span style="color:#66d9ef">this</span> Expression expression, 
        Expression searchEx, 
        Expression replaceEx)
    {
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> ReplaceVisitor(searchEx, replaceEx).Visit(expression);
    }

    <span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ReplaceVisitor</span> : ExpressionVisitor
    {
        <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">readonly</span> Expression <span style="color:#66d9ef">from</span>, to;
        <span style="color:#66d9ef">public</span> ReplaceVisitor(Expression <span style="color:#66d9ef">from</span>, Expression to)
        {
            <span style="color:#66d9ef">this</span>.<span style="color:#66d9ef">from</span> = <span style="color:#66d9ef">from</span>;
            <span style="color:#66d9ef">this</span>.to = to;
        }

        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">override</span> Expression Visit(Expression node)
        {
            <span style="color:#66d9ef">return</span> node == <span style="color:#66d9ef">from</span> ? to : <span style="color:#66d9ef">base</span>.Visit(node);
        }
    }
}
</code></pre></div>
    </div>

    <div class="toc toc-fixed" >
        <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#generic-predicate-and-expression-for-query">Generic Predicate and Expression for query</a></li>
        <li><a href="#analysis">Analysis</a></li>
        <li><a href="#design">Design</a></li>
        <li><a href="#implementatoin">Implementatoin</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>

</div>

    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="/coding/c-sharp/csharp-note-1/" title="C# Console App"> <i class="fa fa-chevron-left"></i><label>C# Console App</label></a>
    <a class="nav nav-next" href="/coding/c-sharp/csharp-note-2/" title="Scheduled task with window service" style="margin-right: 0px;"><label>Scheduled task with window service</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

    

    
  </div>


	<div>


  
    
  



	</div>
</footer>

<script src="/js/clipboard.min.js"></script>

<link href="/css/featherlight.min.css" rel="stylesheet">
<script src="/js/featherlight.min.js"></script>


<link href="/css/github.css" rel="stylesheet">
<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


<script src="/theme-flex/script.js"></script>


    

    
    

    
  </body>
</html>